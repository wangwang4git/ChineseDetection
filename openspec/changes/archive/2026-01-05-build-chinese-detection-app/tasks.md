---
title: 汉字认字量检测小程序 - 任务清单
status: building
created: 2026-01-05
---

# 任务清单

## 阶段 1: 项目基础设施

### 1.1 配置页面路由和 TabBar
- [x] 更新 `src/pages.json`，添加 5 个页面路由
- [x] 配置底部 TabBar（首页、个人页）
- [x] 设置全局导航栏样式
- **验证**: 运行 `npm run dev:mp-weixin`，确认页面可切换

### 1.2 创建公共样式和工具
- [x] 创建 `src/styles/variables.scss` 定义颜色、字体变量
- [x] 创建 `src/styles/common.scss` 定义公共样式类
- [x] 创建 `src/utils/index.js` 工具函数模块
- **验证**: 样式变量可在页面中正常引用

### 1.3 创建 API 和工具模块
- [x] 创建 `src/api/index.js` API 入口
- [x] 创建 `src/api/character.js` 汉字相关接口
- [x] 创建 `src/api/record.js` 检测记录接口
- [x] 创建 `src/utils/index.js` 工具函数入口
- [x] 创建 `src/utils/storage.js` 本地存储工具
- [x] 创建 `src/utils/calculate.js` 认字量计算工具（含分层权重公式、熔断检测、测试序列生成）
- [x] 创建 `src/utils/levelConfig.js` 分层配置常量
- **验证**: API 返回标准格式数据，计算工具正确

## 阶段 2: 页面开发

### 2.1 首页 (HomePage)
- [x] 创建 `src/pages/home/home.vue`
- [x] 实现渐变背景和欢迎图片
- [x] 实现年龄段认字量卡片列表（5 个等级）
- [x] 实现"开始检测吧！"按钮
- [x] 添加页面跳转逻辑
- **验证**: 页面还原设计稿，点击按钮跳转检测页

### 2.2 检测页 (TestPage)
- [x] 创建 `src/pages/test/test.vue`
- [x] 加载汉字数据 (`top_2500_chars_with_literacy.json`)
- [x] 实现分层测试序列生成（6 层级共 175 字）
- [x] 实现层级信息和进度显示（当前层级、层级内进度、总进度）
- [x] 实现米字格汉字展示组件
- [x] 实现"我认识"/"不认识"按钮
- [x] 实现检测逻辑（记录答案、更新连续不认识计数）
- [x] 实现动态熔断机制（连续 5 个不认识或错误率 > 80%）
- [x] 实现层级切换逻辑
- [x] 实现检测完成/熔断跳转结果页
- **验证**: 完整检测流程可用，熔断机制正常触发

### 2.3 结果页 (ResultPage)
- [x] 创建 `src/pages/result/result.vue`
- [x] 实现认字量结果展示卡片（按权重公式计算）
- [x] 实现分层测试详情展示（各层级认识数/测试数）
- [x] 实现熔断提示（若触发熔断）
- [x] 实现不认识汉字列表
- [x] 实现鼓励语句展示
- [x] 实现"结束检测"按钮返回首页
- [x] 保存检测记录到本地存储（含分层详情和熔断信息）
- **验证**: 正确显示检测结果和分层详情，记录已保存

### 2.4 个人页 (ProfilePage)
- [x] 创建 `src/pages/profile/profile.vue`
- [x] 实现用户信息卡片（头像、昵称、账号）
- [x] 实现统计卡片（检测次数、最高记录、平均认字）
- [x] 实现历史检测记录列表
- [x] 实现点击记录跳转详情页
- **验证**: 正确显示用户信息和历史记录

### 2.5 历史详情页 (HistoryDetailPage)
- [x] 创建 `src/pages/history-detail/history-detail.vue`
- [x] 实现返回按钮
- [x] 实现检测信息卡片（时间、认字量）
- [x] 实现不认识汉字列表
- [x] 实现鼓励语句
- **验证**: 正确显示历史记录详情

## 阶段 3: 公共组件

### 3.1 米字格组件 (RiceGrid)
- [x] 创建 `src/components/RiceGrid.vue`
- [x] 实现米字格 SVG 背景
- [x] 实现汉字居中展示
- [x] 支持自定义尺寸
- **验证**: 组件在检测页正常显示

### 3.2 汉字卡片组件 (CharacterCard)
- [x] 创建 `src/components/CharacterCard.vue`
- [x] 实现单个汉字卡片样式
- [x] 支持点击交互
- **验证**: 组件在结果页和详情页正常显示

### 3.3 渐变按钮组件 (GradientButton)
- [x] 创建 `src/components/GradientButton.vue`
- [x] 实现多种渐变色配置
- [x] 支持禁用状态
- **验证**: 按钮样式符合设计稿

## 阶段 4: 集成与优化

### 4.1 数据流集成
- [x] 实现检测数据在页面间传递
- [x] 实现本地存储读写（历史记录）
- [x] 实现统计数据计算
- **验证**: 完整流程数据正确

### 4.2 平台兼容性
- [x] 添加微信小程序条件编译代码
- [x] 处理平台差异（如导航栏）
- **验证**: 微信小程序和 H5 均可正常运行

### 4.3 代码优化
- [x] 添加完整代码注释
- [x] 优化组件性能
- **验证**: 代码规范

## 依赖关系

```
阶段 1 (基础设施)
    ↓
阶段 2.1 (首页) ──→ 阶段 2.2 (检测页) ──→ 阶段 2.3 (结果页)
    ↓
阶段 2.4 (个人页) ──→ 阶段 2.5 (历史详情页)
    ↓
阶段 3 (公共组件) - 可与阶段 2 并行
    ↓
阶段 4 (集成优化)
```

## 可并行任务

- 阶段 3 的组件开发可与阶段 2 并行进行
- 阶段 2.4 (个人页) 与 阶段 2.2-2.3 (检测流程) 可并行
